<!DOCTYPE html>
<html>
<head>

    <style>
        #div1 {
            width: 512px;
            height: 512px;
            padding: 10px;
            border: 1px solid #aaaaaa;
            position: absolute;
        }
        html {
            background: url(images/supermarket1.png) no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
        #div2 {
            float: left;
            width: 200px;
            margin-left: -200px;
            background-color: #FFA;
        }


    </style>
    <title>Products</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="css/materialize.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<script>
    var x = 0;
    var count = 0;
    var z = -1;
    var margin = 100;
    var list = "SHOPPING LIST:<br>";
    var array = new Array();
    var array2 = new Array();
    var id;
    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.currentTarget.id);
        id = ev.currentTarget.id;
    }

    function remove(id){
        delete array[id];
        count --;
        margin = margin -20;
        document.getElementById("newId"+id).remove();
        array.toString = function() {
            return this.join('');
        };
        document.getElementById("text").innerHTML = array.toString();
    }
    function goBack(){
        window.location.href = 'shopping.html';
    }


    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        var nodeCopy = document.getElementById(data).cloneNode(true);
        nodeCopy.id = "newId" + x;

        if(id.localeCompare('bread')==0)
            array.push('-Bread     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('milk')==0)
            array.push('-Milk     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('chips')==0)
            array.push('-Chips     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('cheese')==0)
            array.push('-Cheese     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('meat')==0)
            array.push('-Meat     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('wraps')==0)
            array.push('-Wraps     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('spinach')==0)
            array.push('-Spinach     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('eggs')==0)
            array.push('-Eggs     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('cider')==0)
            array.push('-Cider     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');
        else if(id.localeCompare('juice')==0)
            array.push('-Juice     <button type="button" onclick="remove('+x+')"> Remove</button> <br>');

        for(y = array.length-1; y<array.length; y++){
            if(array[y].localeCompare('undefined')!== 0)
                list = list + array[y];
        }

        nodeCopy.style.marginLeft = margin + 'px';
        x++;
        count++;
        margin += 20;
        nodeCopy.style.marginBottom = '-256px'
        nodeCopy.style.zIndex = z;
        nodeCopy.style.width = '256px';
        nodeCopy.style.height = '256px';
        ev.target.appendChild(nodeCopy);
        var cart = document.getElementById("div1");
        array.toString = function() {
            return this.join('');
        };
        document.getElementById("text").innerHTML = array.toString();
        if(count>=5) {
            margin = 100;
            cart.style.backgroundImage = "url(images/shopping_cart2.png)";
            cart.style.width = '512px';
            cart.style.heigt = '512px';
            for(i = 0; i < array.length; i++){
                document.getElementById("newId"+i).remove();
            }
        }

    }
</script>
<body>

<div class="container">
    <button onclick="goBack()">GO BACK</button>
    <div class="row">
        <div class="col s8 offset-s6">
            <!-- Slider -->
            <div id="scroll-feature-1" class="horiz-scroll">
                <div class="scroller">
                    <div class="left-scroll invisible">
                        <p class="fa fa-angle-left"></p>
                    </div>
                    <div class="right-scroll">
                        <p class="fa fa-angle-right"></p>
                    </div>
                    <div class="scroll-images scrollable-x">
                        <img id="bread" src="images/bakery/bagel1.png" alt="Image 1" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bagel2.png" alt="Image 2" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bagel3.png" alt="Image 3" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bagel4.png" alt="Image 4" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bread1.png" alt="Image 5" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bread2.png" alt="Image 6" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bread3.png" alt="Image 7" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/bread4.png" alt="Image 8" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/donut1.png" alt="Image 9" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/donut2.png" alt="Image 10" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s8 offset-s6">
            <div id="scroll-feature-2" class="horiz-scroll">
                <div class="scroller">
                    <div class="left-scroll invisible">
                        <p class="fa fa-angle-left"></p>
                    </div>
                    <div class="right-scroll">
                        <p class="fa fa-angle-right"></p>
                    </div>
                    <div class="scroll-images scrollable-x">
                       <img id="bread" src="images/bakery/donut3.png" alt="Image 1" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/donut4.png" alt="Image 2" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cookie1.png" alt="Image 3" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cookie2.png" alt="Image 4" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cookie3.png" alt="Image 5" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cookie4.png" alt="Image 6" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cake1.png" alt="Image 7" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cake2.png" alt="Image 8" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cake3.png" alt="Image 9" draggable="true" ondragstart="drag(event)" style="position: relative;">
                        <img id="bread" src="images/bakery/cake4.gif" alt="Image 10" draggable="true" ondragstart="drag(event)" style="position: relative;">
                    </div>
                </div>
            </div>
        </div>
        <div id="div2" class="col s1">

            <p id="text"> </p>
        </div>
    </div>
</div>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script type="text/javascript" src="js/verticalslider.js"></script>
<div style="background: url('images/shopping_cart.png')" id="div1" ondrop="drop(event)" ondragover="allowDrop(event)">

</div>

</body>
</html>
